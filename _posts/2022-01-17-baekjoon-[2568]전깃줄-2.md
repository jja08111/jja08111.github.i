#include <iostream>
#include <vector>
#include <queue>
#include <map>
#include <set>
#include <algorithm>
#include <cstring>
#include <stack>
#include <cmath>
#include <climits>
#include <cctype>
using namespace std;

const int INF = 987654321;
const int MOD = 1000000000 + 7;
const int DIR[4][2] = { {1, 0}, {0, 1}, {-1, 0}, {0, -1} };

// ------------------------------------------------------

const int MAX_N = 100001;

int N;
pair<int, int> lines[MAX_N];
pair<int, int> answer[500001];
bool willBeRemoved[500001];
stack<int> s;

int LIS(void) {
	int length = 0;

	vector<int> perm;
	perm.push_back(lines[0].second);
	answer[0] = make_pair(0, lines[0].first);

	for (int i = 1; i < N; ++i) {
		int currentNum = lines[i].second;
		if (perm.back() < currentNum) {
			perm.push_back(currentNum);
			answer[i] = make_pair(perm.size() - 1, lines[i].first);
		}
		else {
			auto it = lower_bound(perm.begin(), perm.end(), currentNum);
            *it = currentNum;
			int index = it - perm.begin();
			answer[i] = make_pair(index, lines[i].first);
		}
	}
	return perm.end() - perm.begin();
}

int main(void) {
	ios_base::sync_with_stdio(0); cin.tie(0);

	cin >> N;
	for (int i = 0; i < N; ++i) {
		int a, b;
		cin >> a >> b;
		lines[i] = make_pair(a, b);
		willBeRemoved[lines[i].first] = true;
	}

	sort(lines, lines + N);

	int lisLength = LIS();
	cout << N - lisLength << endl;

	int num = lisLength - 1;
	for (int i = N - 1; i >= 0; i--) {
		if (answer[i].first == num) {
			willBeRemoved[answer[i].second] = false;
			num--;
		}
	}
	for (int i = 0; i < 500001; ++i) 
		if (willBeRemoved[i])
			cout << i << "\n";

	return 0;
}

